export const numerologyData = {
  1: {
    description: 'リーダーシップに優れ、独立心が強いあなた。新しい道を切り開く力があります。',
    advice: '自分の直感を信じて、積極的に行動しましょう。',
    personality: {
      strengths: ['リーダーシップ', '独立心', '創造性', '決断力', '開拓精神'],
      challenges: ['自己中心的になりがち', '他人の意見を聞かない', '短気', '孤独感'],
      lifeGoal: '新しい分野を開拓し、多くの人を導くリーダーになること'
    },
    luckyColor: '赤',
    luckyItem: '赤いペン'
  },
  2: {
    description: '協調性があり、人との調和を大切にするあなた。チームワークが得意です。',
    advice: '周りの人との関係を大切にして、協力し合いましょう。',
    personality: {
      strengths: ['協調性', '思いやり', '外交的', '平和主義', 'サポート力'],
      challenges: ['優柔不断', '依存的', '自信不足', '対立を避けすぎる'],
      lifeGoal: '人と人をつなぎ、調和のとれた関係を築くこと'
    },
    luckyColor: '青',
    luckyItem: 'ペアのアクセサリー'
  },
  3: {
    description: '創造性豊かで表現力があるあなた。芸術的な才能に恵まれています。',
    advice: '自分の創造性を活かして、新しい表現方法を試してみましょう。',
    personality: {
      strengths: ['創造性', '表現力', '楽観的', '社交性', 'インスピレーション'],
      challenges: ['散漫', '表面的', '飽きっぽい', '現実逃避'],
      lifeGoal: '芸術や創造的な分野で多くの人に感動を与えること'
    },
    luckyColor: '黄',
    luckyItem: '筆記用具'
  },
  4: {
    description: '堅実で責任感が強いあなた。コツコツと努力を積み重ねることができます。',
    advice: '基礎をしっかりと固めて、着実に目標に向かいましょう。',
    personality: {
      strengths: ['責任感', '堅実性', '組織力', '忍耐力', '信頼性'],
      challenges: ['頑固', '変化を嫌う', '完璧主義', '融通が利かない'],
      lifeGoal: '安定した基盤を築き、長期的な成功を収めること'
    },
    luckyColor: '緑',
    luckyItem: '手帳'
  },
  5: {
    description: '自由を愛し、変化を求めるあなた。新しい経験を積極的に求めます。',
    advice: '変化を恐れずに、新しい挑戦を楽しみましょう。',
    personality: {
      strengths: ['自由精神', '適応力', '好奇心', '冒険心', '多才'],
      challenges: ['落ち着きがない', '責任回避', '一貫性がない', '衝動的'],
      lifeGoal: '多様な経験を通じて自由な人生を謳歌すること'
    },
    luckyColor: '紫',
    luckyItem: '旅行用品'
  },
  6: {
    description: '愛情深く、家族や友人を大切にするあなた。人の世話をするのが得意です。',
    advice: '愛する人たちとの時間を大切にして、絆を深めましょう。',
    personality: {
      strengths: ['愛情深さ', '責任感', '保護本能', '癒しの力', '家族愛'],
      challenges: ['過保護', '心配性', '自己犠牲', '束縛的'],
      lifeGoal: '愛する人たちを守り、温かい家庭を築くこと'
    },
    luckyColor: 'ピンク',
    luckyItem: '写真'
  },
  7: {
    description: '探求心が強く、精神的な成長を求めるあなた。深く考える力があります。',
    advice: '内面と向き合い、自分自身を深く理解しましょう。',
    personality: {
      strengths: ['探求心', '直感力', '分析力', '精神性', '独立性'],
      challenges: ['孤独感', '完璧主義', '批判的', '現実逃避'],
      lifeGoal: '真理を探求し、精神的な悟りを得ること'
    },
    luckyColor: '紫',
    luckyItem: '本'
  },
  8: {
    description: '野心的で成功を求めるあなた。物質的な豊かさを築く力があります。',
    advice: '目標を明確にして、計画的に成功に向かいましょう。',
    personality: {
      strengths: ['野心', '組織力', '実行力', 'ビジネス感覚', '権威'],
      challenges: ['物質主義', '権力欲', '冷淡', 'ワーカホリック'],
      lifeGoal: '物質的な成功を収め、社会的地位を確立すること'
    },
    luckyColor: '金',
    luckyItem: '時計'
  },
  9: {
    description: '人道的で理想主義のあなた。世界をより良くしたいという願いがあります。',
    advice: '自分の理想を大切にして、社会貢献を考えてみましょう。',
    personality: {
      strengths: ['人道主義', '理想主義', '寛大さ', '芸術性', '普遍的愛'],
      challenges: ['非現実的', '感情的', '自己犠牲', '完璧主義'],
      lifeGoal: '人類の幸福に貢献し、世界をより良い場所にすること'
    },
    luckyColor: '白',
    luckyItem: 'ボランティア活動'
  },
  11: {
    description: '直感力が鋭く、スピリチュアルな能力があるあなた。人を導く力があります。',
    advice: '直感を信じて、精神的な成長を大切にしましょう。',
    personality: {
      strengths: ['直感力', 'スピリチュアル', 'インスピレーション', '感受性', '理想主義'],
      challenges: ['神経質', '不安定', '現実逃避', '完璧主義'],
      lifeGoal: 'スピリチュアルな導き手として多くの人を啓発すること'
    },
    luckyColor: '銀',
    luckyItem: 'クリスタル'
  },
  22: {
    description: '大きな夢を実現する力があるあなた。世界に影響を与える可能性があります。',
    advice: '大きな目標を持って、着実に実現に向けて進みましょう。',
    personality: {
      strengths: ['実現力', 'ビジョン', '組織力', 'リーダーシップ', '影響力'],
      challenges: ['プレッシャー', '完璧主義', '責任の重さ', '孤独感'],
      lifeGoal: '大きなビジョンを実現し、世界に永続的な影響を与えること'
    },
    luckyColor: '金',
    luckyItem: '設計図'
  },
  33: {
    description: '愛と奉仕の精神を持つあなた。多くの人を癒し、導く使命があります。',
    advice: '愛の力で人々を癒し、世界に平和をもたらしましょう。',
    personality: {
      strengths: ['無条件の愛', '癒しの力', '奉仕精神', '慈悲', '精神的指導'],
      challenges: ['自己犠牲', '感情的負担', '現実逃避', '完璧主義'],
      lifeGoal: '愛と癒しを通じて人類の精神的進化に貢献すること'
    },
    luckyColor: '虹色',
    luckyItem: 'ヒーリンググッズ'
  }
};

export const calculateLifePathNumber = (birthDate: Date): number => {
  const year = birthDate.getFullYear();
  const month = birthDate.getMonth() + 1;
  const day = birthDate.getDate();
  
  let sum = year + month + day;
  
  // 数字を1桁になるまで足し続ける（11, 22, 33は例外）
  while (sum > 9 && sum !== 11 && sum !== 22 && sum !== 33) {
    sum = sum.toString().split('').reduce((a, b) => parseInt(a.toString()) + parseInt(b), 0);
  }
  
  return sum;
};

export const getCalculationSteps = (year: number, month: number, day: number): string[] => {
  const steps: string[] = [];
  
  // ステップ1: 基本の足し算
  const sum = year + month + day;
  steps.push(`${year} + ${month} + ${day} = ${sum}`);
  
  // ステップ2: 1桁になるまで足し続ける
  let currentSum = sum;
  while (currentSum > 9 && currentSum !== 11 && currentSum !== 22 && currentSum !== 33) {
    const digits = currentSum.toString().split('').map(Number);
    const newSum = digits.reduce((a, b) => a + b, 0);
    steps.push(`${digits.join(' + ')} = ${newSum}`);
    currentSum = newSum;
  }
  
  return steps;
};